<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="x-icon" href="CulHar_Logo-removebg.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Culinary Harbor</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />

    <!-- font awesome link -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <link rel="stylesheet" href="main.css" />

    <!-- Swiper CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />

    <!-- Swiper JS -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script> -->

    <!-- Your Custom JavaScript -->
  </head>

  <style>
    .accept-button {
      color: white;
      background-color: red;
    }

    .accept-button:hover{
      color: white;
      background-color: red;
    }



    .table td:not(:last-child) {
    font-size: 16px; /* Adjust the font size as needed */
  }
  </style>

  <body>
    <header>
      <a href="#" class="logo">
        <img src="admin logo.png" width="50px" />
        <div class="log_text">Culinary Harbor</div>
      </a>

      <!-- <p>Experience the taste of excellence</p> -->

      <div class="signout_btn">
        <button class="btn"><a href="index.html">Signout</a></button>
        <i class="fa-solid fa-bars" id="bar"></i>
      </div>
    </header>
    <br>
    
    <div class="container mt-3">
      <table class="table">
        <thead>
          <th>Applicant Number</th>
          <th>Full Name</th>
          <th>Application Form</th>
          <th>Control Center</th>
        </thead>
        <tbody id = "tbody1"></tbody>
      </table>
    </div>
    
    <div id="detailsPanel" class="hidden">
      <p id="separator">---------------------------------------------------------------------------------------------------------------------------------------------------------</p>
      <h3>Applicant Responses</h3>
      <br>
      <p id="applicationForm"></p>
      <p id="fullName"></p>
      <p id="email"></p>
      <p id="dob"></p>
      <p id="address"></p>
      <p id="state"></p>
      <p id="zip"></p>
      <p id="education"></p>
      <p id="employmenthistory"></p>
      <p id="skillsandcertifications"></p>
      <p id="whyworkhere"></p>
      <p id="expectedsalary"></p>
      <p id="bestcandidateskills"></p>
      <p id="motivationsatwork"></p>
      <p id="coverletter"></p>

    </div>

    <script type="module">
      
      var stdNo = 0;
      var tbody = document.getElementById('tbody1');

      

      function AddItemToTable(fullName, applicationForm, email, dob, address, state, zip, education, employmenthistory, skillsandcertifications, whyworkhere, expectedsalary, bestcandidateskills, motivationsatwork, coverletter){
        let trow = document.createElement("tr");
        let td1 = document.createElement('td');
        let td2 = document.createElement('td');
        let td3 = document.createElement('td');
        let td4 = document.createElement('td');

        td1.innerHTML = ++stdNo;
        td2.innerHTML = fullName;
        td3.innerHTML = applicationForm;

        let acceptButton = document.createElement('button');
        acceptButton.textContent = 'View';
        acceptButton.classList.add('btn', 'btn-primary', 'mr-1', 'accept-button');
        // GM
        if (applicationForm == "General Manager Application Form"){
          acceptButton.addEventListener('click', function() {
      
            document.getElementById('applicationForm').textContent = `Application Form: ${applicationForm}`;
            document.getElementById('fullName').textContent = `Full Name: ${fullName}`;
            document.getElementById('email').textContent = `Email: ${email}`;
            document.getElementById('dob').textContent = `DOB: ${dob}`;
            document.getElementById('address').textContent = `Address: ${address}`;
            document.getElementById('state').textContent = `State: ${state}`;
            document.getElementById('zip').textContent = `ZIP: ${zip}`;
            document.getElementById('education').textContent = `Highest Level of Education: ${education}`;
            document.getElementById('employmenthistory').textContent = `Employment History: ${employmenthistory}`;
            document.getElementById('skillsandcertifications').textContent = `Skills and Certifications: ${skillsandcertifications}`;
            document.getElementById('whyworkhere').textContent = `Why Work Here: ${whyworkhere}`;
            document.getElementById('expectedsalary').textContent = `Expected Salary: ${expectedsalary}`;
            document.getElementById('bestcandidateskills').textContent = `Best Candidate Skills: ${bestcandidateskills}`;
            document.getElementById('motivationsatwork').textContent = `Motivations At Work: ${motivationsatwork}`;
            document.getElementById('coverletter').textContent = `Cover Letter: ${coverletter}`;
            document.getElementById('detailsPanel').classList.remove('hidden');
            
          });
        }
        //Cashier
        if (applicationForm == "Cashier Application Form"){
          acceptButton.addEventListener('click', function() {

            document.getElementById('applicationForm').textContent = `Application Form: ${applicationForm}`;
            document.getElementById('fullName').textContent = `Full Name: ${fullName}`;
            document.getElementById('email').textContent = `Email: ${email}`;
            document.getElementById('dob').textContent = `DOB: ${dob}`;
            document.getElementById('address').textContent = `Address: ${address}`;
            document.getElementById('state').textContent = `State: ${state}`;
            document.getElementById('zip').textContent = `ZIP: ${zip}`;
            document.getElementById('employmenthistory').textContent = `Employment History: ${employmenthistory}`;
            document.getElementById('whyworkhere').textContent = `Why Work Here: ${whyworkhere}`;
            document.getElementById('expectedsalary').textContent = `Expected Salary: ${expectedsalary}`;
            document.getElementById('bestcandidateskills').textContent = `Best Candidate Skills: ${bestcandidateskills}`;
            document.getElementById('motivationsatwork').textContent = `Motivations At Work: ${motivationsatwork}`;
            document.getElementById('coverletter').textContent = `Cover Letter: ${coverletter}`;
            document.getElementById('detailsPanel').classList.remove('hidden');
          });
        }
        //waiter/waitress
        if (applicationForm == "Waiter/Waitress Application Form"){
          acceptButton.addEventListener('click', function() {

            document.getElementById('applicationForm').textContent = `Application Form: ${applicationForm}`;
            document.getElementById('fullName').textContent = `Full Name: ${fullName}`;
            document.getElementById('email').textContent = `Email: ${email}`;
            document.getElementById('dob').textContent = `DOB: ${dob}`;
            document.getElementById('address').textContent = `Address: ${address}`;
            document.getElementById('state').textContent = `State: ${state}`;
            document.getElementById('zip').textContent = `ZIP: ${zip}`;
            document.getElementById('employmenthistory').textContent = `Employment History: ${employmenthistory}`;
            document.getElementById('whyworkhere').textContent = `Why Work Here: ${whyworkhere}`;
            document.getElementById('expectedsalary').textContent = `Expected Salary: ${expectedsalary}`;
            document.getElementById('bestcandidateskills').textContent = `Best Candidate Skills: ${bestcandidateskills}`;
            document.getElementById('motivationsatwork').textContent = `Motivations At Work: ${motivationsatwork}`;
            document.getElementById('coverletter').textContent = `Cover Letter: ${coverletter}`;
            document.getElementById('detailsPanel').classList.remove('hidden');
          });
        }
        //Sous Chef
        if (applicationForm == "Sous Chef Application Form"){
          acceptButton.addEventListener('click', function() {

            document.getElementById('applicationForm').textContent = `Application Form: ${applicationForm}`;
            document.getElementById('fullName').textContent = `Full Name: ${fullName}`;
            document.getElementById('email').textContent = `Email: ${email}`;
            document.getElementById('dob').textContent = `DOB: ${dob}`;
            document.getElementById('address').textContent = `Address: ${address}`;
            document.getElementById('state').textContent = `State: ${state}`;
            document.getElementById('zip').textContent = `ZIP: ${zip}`;
            document.getElementById('education').textContent = `Highest Level of Education: ${education}`;
            document.getElementById('employmenthistory').textContent = `Employment History: ${employmenthistory}`;
            document.getElementById('skillsandcertifications').textContent = `Skills and Certifications: ${skillsandcertifications}`;
            document.getElementById('whyworkhere').textContent = `Why Work Here: ${whyworkhere}`;
            document.getElementById('expectedsalary').textContent = `Expected Salary: ${expectedsalary}`;
            document.getElementById('bestcandidateskills').textContent = `Best Candidate Skills: ${bestcandidateskills}`;
            document.getElementById('motivationsatwork').textContent = `Motivations At Work: ${motivationsatwork}`;
            document.getElementById('coverletter').textContent = `Cover Letter: ${coverletter}`;
            document.getElementById('detailsPanel').classList.remove('hidden');
          });
        }

        td4.appendChild(acceptButton);


        trow.appendChild(td1);
        trow.appendChild(td2);
        trow.appendChild(td3);
        trow.appendChild(td4); // Add td for control buttons


        tbody.appendChild(trow);

      }

      function AddAllItemsToTable(TheApplicant){
        stdNo = 0;
        tbody.innerHTML="";
        TheApplicant.forEach(element => {
          AddItemToTable(
              element.fullName,
              element.applicationForm,
              element.email,
              element.dob,
              element.address,
              element.state,
              element.zip,
              element.education,
              element.employmenthistory,
              element.skillsandcertifications,
              element.whyworkhere,
              element.expectedsalary,
              element.bestcandidateskills,
              element.motivationsatwork,
              element.coverletter
          );
      });
    }

      
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
  
      const firebaseConfig = {
        apiKey: "AIzaSyAO9zhttsR2jhYQPBpsNiAzBPPMD8ZJtno",
        authDomain: "fbla-restaurant-db.firebaseapp.com",
        databaseURL: "https://fbla-restaurant-db-default-rtdb.firebaseio.com",
        projectId: "fbla-restaurant-db",
        storageBucket: "fbla-restaurant-db.appspot.com",
        messagingSenderId: "1032671063739",
        appId: "1:1032671063739:web:93e3567aade232b2db839e"
      };


      const app = initializeApp(firebaseConfig);
      import { getDatabase, ref, child, onValue, get} from "https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js";
      const db = getDatabase();


      function GetAllDataOnce(){
        const dbRef = ref(db);

        get(child(dbRef, "fullName"))
        .then((snapshot) =>{
          var applicants = [];

          snapshot.forEach(childSnapshot => {
            applicants.push(childSnapshot.val());
          });
          AddAllItemsToTable(applicants);
        });
      }

      function GetAllDataRealtime(){
        const dbRef = ref(db, "fullName");

        onValue(dbref, (snapshot) => {
          var applicants = [];

          snapshot.forEach(childSnapshot => {
            applicants.push(childSnapshot.val());
          });
          AddAllItemsToTable(applicants);
        });
      }

      

      window.onload = GetAllDataOnce;
      function login() {
        var username = document.getElementById('username').value;
        var password = document.getElementById('password').value;
  
        if (username === 'CHadmin1289' && password === 'CHadminpass8912') {
          alert('Login successful');
          window.location.href = 'main.html'; // Redirect to main.html
        } else {
          alert('Invalid username or password');
        }
      }
    </script>

    

    

    

        
      </section>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="main.js"></script>
  </body>
</html>