<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="x-icon" href="CulHar_Logo-removebg.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Culinary Harbor</title>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />

    <!-- font awesome link -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <link rel="stylesheet" href="main.css" />

    <!-- Swiper CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />

    <!-- Swiper JS -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script> -->

    <!-- Your Custom JavaScript -->
  </head>

  <body>
    <header>
      <a href="#" class="logo">
        <img src="admin logo.png" width="50px" />
        <div class="log_text">Culinary Harbor</div>
      </a>

      <!-- <p>Experience the taste of excellence</p> -->
      <nav class="navbar">
        <a class="active" href="applications.html">View Applications</a>
        <a href="workers.html">Current Workers</a>
   
      </nav>

      <div class="signout_btn">50
        <button class="btn"><a href="login.html">Signout</a></button>
        <i class="fa-solid fa-bars" id="bar"></i>
      </div>
    </header>
    <br>
    
    <div class="button-row">
        <a href="GMapplications.html" class="apply1"><button>General Manager Applications</button></a>
    </div>
    
    <div class="button-row">
        <a href="Cashapplications.html" class="apply2"><button>Cashier Applications</button></a>
    </div>
    
    <div class="button-row">
        <a href="waiapplications.html" class="apply3"><button>Waiter/Waitress Applications</button></a>
    </div> 
    <div class="button-row">
      <a href="SCapplications.html" class="apply3"><button>Sous Chef Applications</button></a>
  </div>   

    <div id="GMapplications">

    </div>

    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
      
      const firebaseConfig = {
        apiKey: "AIzaSyAO9zhttsR2jhYQPBpsNiAzBPPMD8ZJtno",
        authDomain: "fbla-restaurant-db.firebaseapp.com",
        databaseURL: "https://fbla-restaurant-db-default-rtdb.firebaseio.com",
        projectId: "fbla-restaurant-db",
        storageBucket: "fbla-restaurant-db.appspot.com",
        messagingSenderId: "1032671063739",
        appId: "1:1032671063739:web:93e3567aade232b2db839e"
      };
    
      // Initialize Firebase
      const app = initializeApp(firebaseConfig);

      import {getDatabase, ref, get, child} from "https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js";

      const db = getDatabase();

      let GMapplications = document.getElementById('GMapplications');
      let stdno = 1;

      function GetApplications(){
        const dbref = ref(db);

        get(child(dbref, 'fullName')).then((applications)=>{
          applications.forEach(std =>{
            AddapplicationAsListItem(std)
          });
        })
      }
      if (value.applicationForm == "General Manager Application Form"){
        function AddapplicationAsListItem(std) {
          let key = std.key;
          let value = std.val();
    
          let fullName = document.createElement('li'); // Fix the variable name here
          let applicationForm = document.createElement('li');
          let dob = document.createElement('li');
          let address = document.createElement('li');
          let education = document.createElement('li');
          let state = document.createElement('li');
          let email = document.createElement('li');
          let zip = document.createElement('li');
          let whyworkhere = document.createElement('li');
          let skillsandcertifications = document.createElement('li');
          let motivationsatwork = document.createElement('li');
          let expectedsalary = document.createElement('li');
          let employmenthistory = document.createElement('li');
          let coverleter = document.createElement('li');
          let bestcandidateskills = document.createElement('li');
    
          applicationForm.innerHTML = "Application Form: " + value.applicationForm;
          fullName.innerHTML = "Full Name: " + value.fullName;
          dob.innerHTML = "Date of Birth: " + value.dob;
          address.innerHTML = "Address: " + value.address;
          education.innerHTML = "Education: " + value.education;
          state.innerHTML = "State: " + value.state;
          email.innerHTML = "Email: " + value.email;
          zip.innerHTML = "ZIP: " + value.zip;
          whyworkhere.innerHTML = "Why Work Here: " + value.whyworkhere;
          skillsandcertifications.innerHTML = "Skills and Certifications: " + value.skillsandcertifications;
          motivationsatwork.innerHTML = "Motivations at Work: " + value.motivationsatwork;
          expectedsalary.innerHTML = "Expected Salary: " + value.expectedsalary;
          employmenthistory.innerHTML = "Employment History: " + value.employementhistory;
          coverleter.innerHTML = "Cover Letter: " + value.coverletter;
          bestcandidateskills.innerHTML = "Best Candidate Skills: " + value.bestcandidateskills;
          
          let ul = document.createElement('ul');
          ul.append(applicationForm, fullName, email, address, state, zip, education, employmenthistory, whyworkhere, bestcandidateskills, skillsandcertifications, motivationsatwork, expectedsalary, coverleter);
          GMapplications.append(ul);
          stdno++;
      }
    }

      window.addEventListener('load', GetApplications);


    </script>

    

    

        <hr>
        <div class="credit">
          &copy; 2024 <span>Culinary Harbor.</span> All rights reserved.
        </div>
      </section>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="main.js"></script>
  </body>
</html>
